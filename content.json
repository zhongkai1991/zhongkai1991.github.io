{"meta":{"title":"Stat World","subtitle":"All models are wrong,but some are useful.--- Box, George E. P.","description":"Run like a HongKong journalist","author":"Kai Zhong","url":"http://yoursite.com"},"pages":[],"posts":[{"title":"HR data analysis","slug":"HR data analysis","date":"2017-03-23T23:48:16.409Z","updated":"2017-03-24T07:34:54.610Z","comments":true,"path":"2017/03/24/HR data analysis/","link":"","permalink":"http://yoursite.com/2017/03/24/HR data analysis/","excerpt":"This dataset aims to understand why some of the best or most experienced employees are leaving. The company want to detect the most influencial factor that can help us predict whether valuable employees will leave or not.","text":"This dataset aims to understand why some of the best or most experienced employees are leaving. The company want to detect the most influencial factor that can help us predict whether valuable employees will leave or not. Analytical procedureFirstly, we need to explain why valuable employees leave, and secondly, we want to predict who will leave next.Therefore, we propose to work with the HR department to gather relevant data about the employees and to communicate the significant effect that could explain and predict employees’ departure. Measurement and methodWe have several index to measure our nearly 15 000 employees’ working condition. They are satisfaction level, latest evaluation (yearly), number of project worked on, average monthly hours, time spend in the company (in years), work accident (within the past 2 years), promotion within the past 5 years, department and salary. Exploratory analysisthis dataset is from the HR department: (it doesn’t take into accountthe person that have been fired, transferred or hired in the past year.) ## satisfaction_level last_evaluation number_project average_montly_hours ## 1 0.38 0.53 2 157 ## 2 0.80 0.86 5 262 ## 3 0.11 0.88 7 272 ## 4 0.72 0.87 5 223 ## 5 0.37 0.52 2 159 ## 6 0.41 0.50 2 153 ## time_spend_company Work_accident left promotion_last_5years sales salary ## 1 3 0 1 0 sales low ## 2 6 0 1 0 sales medium ## 3 4 0 1 0 sales medium ## 4 5 0 1 0 sales low ## 5 3 0 1 0 sales low ## 6 3 0 1 0 sales low Data cleaning stageAt this stage we want to need to check and clean data in order toimprove the quality of our analysis. Data quality reportThis table describe the characteristics of each features of our ABT. Wecan see different statistical measures of central tendency andvariation. For example we can see that our attrition rate is equal to24%, the satisfaction level is around 62% and the performance average isaround 71%. We see that on average people work on 3 to 4 projects a yearand about 200 hours per months. # Correct variables&apos; attributes data$work_accid=as.factor(data$work_accid) data$promo_last_5yrs=as.factor(data$promo_last_5yrs) data$left_or_not=as.factor(data$left_or_not) data$department=as.factor(data$department) data$salary=as.factor(data$salary) str(data) ## &apos;data.frame&apos;: 14999 obs. of 10 variables: ## $ satisf_level : num 0.38 0.8 0.11 0.72 0.37 0.41 0.1 0.92 0.89 0.42 ... ## $ last_eval : num 0.53 0.86 0.88 0.87 0.52 0.5 0.77 0.85 1 0.53 ... ## $ num_proj : int 2 5 7 5 2 2 6 5 5 2 ... ## $ ave_mon_hrs : int 157 262 272 223 159 153 247 259 224 142 ... ## $ time_spend : int 3 6 4 5 3 3 4 5 5 3 ... ## $ work_accid : Factor w/ 2 levels &quot;0&quot;,&quot;1&quot;: 1 1 1 1 1 1 1 1 1 1 ... ## $ promo_last_5yrs: Factor w/ 2 levels &quot;0&quot;,&quot;1&quot;: 1 1 1 1 1 1 1 1 1 1 ... ## $ department : Factor w/ 10 levels &quot;accounting&quot;,&quot;hr&quot;,..: 8 8 8 8 8 8 8 8 8 8 ... ## $ salary : Factor w/ 3 levels &quot;high&quot;,&quot;low&quot;,&quot;medium&quot;: 2 3 3 2 2 2 2 2 2 2 ... ## $ left_or_not : Factor w/ 2 levels &quot;0&quot;,&quot;1&quot;: 2 2 2 2 2 2 2 2 2 2 ... # Finding NA which(is.na(data), arr.ind=TRUE) #the indices of NA values ## row col First visualisations Since this dataset contains categorical and numerical variables, thistable contains the ways to illustrate the relationships between thesevariables. ### Table plotThis graph present the correlations between each variables. The size ofthe bubbles reveal the significance of the correlation, while the colourpresent the direction (either positive or negative). On average people who leave have a low satisfaction level, they workmore and didn’t get promoted within the past five years. Who is leaving?Let’s create a data frame with only the people that have left thecompany, so we can visualise what is the distribution of each features: #Data Exploration (Quantitative Explanotary Variables vs. Qualitative Binary Response Variable) #making table t_bygroup=function(d, x, y, n){ # an elegant way to install a missing package if (!require(&quot;plyr&quot;)) install.packages(&quot;plyr&quot;) t &lt;- ddply(d, y, .fun = function(dd){ c(Mean = mean(dd[,x],na.rm=TRUE), Sd = sd(dd[,x],na.rm=TRUE), min=min(dd[,x]), Q1=quantile(dd[,x],0.25), Median=quantile(dd[,x],0.5), Q3=quantile(dd[,x],0.75), Max=max(dd[,x])) }) return(t) } #making histogram hist_bygroup=function(d,xx,yy,name){ if (!require(&quot;ggplot2&quot;)) install.packages(&quot;ggplot2&quot;) ggplot(d, aes_string(x=xx, color=yy, fill=yy))+ geom_histogram(aes(y=..density..), alpha=0.5, position=&quot;identity&quot;)+ geom_density(alpha=.3)+ ggtitle(name) } #making boxplot box_bygroup=function(d,xx,yy,name){ if (!require(&quot;ggplot2&quot;)) install.packages(&quot;ggplot2&quot;) ggplot(d, aes_string(x=yy, y=xx, fill=yy)) + geom_boxplot()+ ggtitle(name) } if (!require(&quot;Rmisc&quot;)) install.packages(&quot;Rmisc&quot;) # Arrangement for multiple ggplots # Histogram library(Rmisc) hist_sat=hist_bygroup(d=data, xx=&quot;satisf_level&quot;, yy=&quot;left_or_not&quot;, &quot;Histogram for satisf_level&quot;) the next step is to make boxplot # Box plot box_sat=box_bygroup(d=data, xx=&quot;satisf_level&quot;, yy=&quot;left_or_not&quot;, &quot;Boxplot for satisf_level&quot;) multiplot(plotlist = list(hist_sat,box_sat), cols = 2) # Data Exploration (Qualitative Explanotary Variables vs. Qualitative Binary Response Variable) leave_or_not &lt;- factor(data$left_or_not,labels = c(&quot;stay&quot;,&quot;leave&quot;)) workaccident&lt;- factor(data$work_accid,labels = c(&quot;never happened&quot;, &quot;happened&quot;)) promotion &lt;- factor(data$promo_last_5yrs,labels = c(&quot;not promoted&quot;, &quot;promoted&quot;)) library(gmodels) CrossTable(x = workaccident, y = leave_or_not, digits=3, max.width = 5, prop.r=TRUE,prop.chisq=FALSE, prop.c=FALSE,format=c(&quot;SPSS&quot;)) ## Cell Contents ## |-------------------------| ## | Count | ## | Row Percent | ## | Total Percent | ## |-------------------------| ## ## Total Observations in Table: 14999 ## ![](http://i.imgur.com/KL7CtZ9.png) ## | leave_or_not ## workaccident | stay | leave | Row Total | ## ---------------|-----------|-----------|-----------| ## never happened | 9428 | 3402 | 12830 | ## | 73.484% | 26.516% | 85.539% | ## | 62.858% | 22.682% | | ## ---------------|-----------|-----------|-----------| ## happened | 2000 | 169 | 2169 | ## | 92.208% | 7.792% | 14.461% | ## | 13.334% | 1.127% | | ## ---------------|-----------|-----------|-----------| ## Column Total | 11428 | 3571 | 14999 | ## ---------------|-----------|-----------|-----------| ## ## CrossTable(x = promotion, y = leave_or_not, digits=3, max.width = 5, prop.r=TRUE,prop.t=TRUE,prop.chisq=FALSE, prop.c=TRUE,format=c(&quot;SPSS&quot;)) ## ## Cell Contents ## |-------------------------| ## | Count | ## | Row Percent | ## | Column Percent | ## | Total Percent | ## |-------------------------| ## ## Total Observations in Table: 14999 ## ## | leave_or_not ## promotion | stay | leave | Row Total | ## -------------|-----------|-----------|-----------| ## not promoted | 11128 | 3552 | 14680 | ## | 75.804% | 24.196% | 97.873% | ## | 97.375% | 99.468% | | ## | 74.192% | 23.682% | | ## -------------|-----------|-----------|-----------| ## promoted | 300 | 19 | 319 | ## | 94.044% | 5.956% | 2.127% | ## | 2.625% | 0.532% | | ## | 2.000% | 0.127% | | ## -------------|-----------|-----------|-----------| ## Column Total | 11428 | 3571 | 14999 | ## | 76.192% | 23.808% | | ## -------------|-----------|-----------|-----------| ## ## Here it’s much clearer. On average valuable employees that leave are notsatisfayed, work on many projects, spend many hours in the company eachmonth and aren’t promoted. Actionable insightsThe confusion matrix and the accuracy figures of the different modelshow that the predictive power is very similar and seems robust. About95% accuracy and for a Kappa of 84%. We decide to keep the logisticregression model to lay out actionable insights. It’s a very simplemodel and give the best results. Here is a plot that show the probability to leave of the employees andtheir performance. We need to focus on the top right. To do that webuild a data table were we rank the probability to leave found in thelogistic regression model and the performance, we therefore find thepriority for the company. Last updated on the 11/2015","categories":[],"tags":[]},{"title":"wine quality data report","slug":"wine-quality-data-report","date":"2017-03-23T05:24:44.000Z","updated":"2017-03-23T05:24:44.275Z","comments":true,"path":"2017/03/23/wine-quality-data-report/","link":"","permalink":"http://yoursite.com/2017/03/23/wine-quality-data-report/","excerpt":"","text":"","categories":[],"tags":[]},{"title":"Hello World","slug":"hello-world","date":"2017-03-21T17:23:00.835Z","updated":"2017-03-24T06:42:41.846Z","comments":true,"path":"2017/03/22/hello-world/","link":"","permalink":"http://yoursite.com/2017/03/22/hello-world/","excerpt":"","text":"Welcome to Hexo! This is your very first post. Check documentation for more info. If you get any problems when using Hexo, you can find the answer in troubleshooting or you can ask me on GitHub. Quick StartCreate a new post1$ hexo new \"My New Post\" More info: Writing Run server1$ hexo server More info: Server Generate static files1$ hexo generate More info: Generating Deploy to remote sites1$ hexo deploy More info: Deployment","categories":[],"tags":[{"name":"introduction","slug":"introduction","permalink":"http://yoursite.com/tags/introduction/"}]}]}